================================================================================
PHASE TEST LOG: Multi-Sector Territory
================================================================================
Generated: 2025-11-28T10:51:01.820Z
Steps: 1
Completed: Yes

================================================================================


────────────────────────────────────────────────────────────────────────────────
STEP 0
────────────────────────────────────────────────────────────────────────────────

[11:51:01 AM] STATE
  State snapshot: Initial State
  Data:
    {
      turn: 2,
      phase: storm,
      factions: [
        atreides,
        harkonnen,
        emperor,
      ],
      factionStates: [
        {
          faction: atreides,
          spice: 30,
          forcesOnBoard: [
            {
              territory: the_minor_erg,
              sector: 6,
              regular: 10,
              elite: 0,
              advisors: null,
            },
          ],
          forcesInReserves: {
            regular: 20,
            elite: 0,
          },
          leaders: [
            {
              id: paul_atreides,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: atreides,
            },
            {
              id: gurney_halleck,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: atreides,
            },
            {
              id: duncan_idaho,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: atreides,
            },
            {
              id: thufir_hawat,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: atreides,
            },
            {
              id: dr_yueh,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: atreides,
            },
          ],
          handSize: 1,
          traitors: 0,
        },
        {
          faction: harkonnen,
          spice: 35,
          forcesOnBoard: [
            {
              territory: the_minor_erg,
              sector: 7,
              regular: 8,
              elite: 0,
              advisors: null,
            },
          ],
          forcesInReserves: {
            regular: 20,
            elite: 0,
          },
          leaders: [
            {
              id: feyd_rautha,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: harkonnen,
            },
            {
              id: beast_rabban,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: harkonnen,
            },
            {
              id: piter_de_vries,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: harkonnen,
            },
            {
              id: captain_iakin_nefud,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: harkonnen,
            },
            {
              id: umman_kudu,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: harkonnen,
            },
          ],
          handSize: 2,
          traitors: 0,
        },
        {
          faction: emperor,
          spice: 40,
          forcesOnBoard: [
            {
              territory: imperial_basin,
              sector: 8,
              regular: 5,
              elite: 0,
              advisors: null,
            },
            {
              territory: imperial_basin,
              sector: 9,
              regular: 3,
              elite: 0,
              advisors: null,
            },
            {
              territory: imperial_basin,
              sector: 10,
              regular: 2,
              elite: 0,
              advisors: null,
            },
          ],
          forcesInReserves: {
            regular: 20,
            elite: 0,
          },
          leaders: [
            {
              id: shaddam_iv,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: emperor,
            },
            {
              id: hasimir_fenring,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: emperor,
            },
            {
              id: captain_aramsham,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: emperor,
            },
            {
              id: caid,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: emperor,
            },
            {
              id: bashar,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: emperor,
            },
          ],
          handSize: 1,
          traitors: 0,
        },
      ],
      spiceOnBoard: [
        {
          territoryId: the_minor_erg,
          sector: 6,
          amount: 5,
        },
        {
          territoryId: imperial_basin,
          sector: 8,
          amount: 10,
        },
        {
          territoryId: imperial_basin,
          sector: 9,
          amount: 8,
        },
      ],
      stormSector: 5,
      stormOrder: [
        atreides,
        harkonnen,
        emperor,
      ],
    }

[11:51:01 AM] INFO
  Starting scenario: Multi-Sector Territory

[11:51:01 AM] INFO
  Turn: 2, Storm Sector: 5

[11:51:01 AM] INFO
  Factions: atreides, harkonnen, emperor

[11:51:01 AM] INFO
  Player Positions:
  Data:
    [
      atreides: sector 4,
      harkonnen: sector 6,
      emperor: sector 11,
    ]

[11:51:01 AM] INFO
  Forces: atreides has 10 in the_minor_erg sector 6

[11:51:01 AM] INFO
  Forces: harkonnen has 8 in the_minor_erg sector 7

[11:51:01 AM] INFO
  Forces: emperor has 5 in imperial_basin sector 8

[11:51:01 AM] INFO
  Forces: emperor has 3 in imperial_basin sector 9

[11:51:01 AM] INFO
  Forces: emperor has 2 in imperial_basin sector 10

[11:51:01 AM] INFO
  Total forces on board: 28

[11:51:01 AM] INFO
  Spice on board: 3 deposits

[11:51:01 AM] INFO
    - 5 spice in the_minor_erg sector 6

[11:51:01 AM] INFO
    - 10 spice in imperial_basin sector 8

[11:51:01 AM] INFO
    - 8 spice in imperial_basin sector 9

[11:51:01 AM] INFO
  Queued 2 agent responses

[11:51:01 AM] INFO
    - atreides: DIAL_STORM with data:
  Data:
    {
      dial: 1,
    }

[11:51:01 AM] INFO
    - harkonnen: DIAL_STORM with data:
  Data:
    {
      dial: 2,
    }


────────────────────────────────────────────────────────────────────────────────
STEP 1
────────────────────────────────────────────────────────────────────────────────

[11:51:01 AM] REQUEST
  harkonnen requested: DIAL_STORM
  Data:
    {
      faction: harkonnen,
      requestType: DIAL_STORM,
      prompt: Dial a number for storm movement (1-3). The total will determine how many sectors the storm moves.,
      context: {
        turn: 2,
        currentStormSector: 5,
        maxDial: 3,
        isFirstTurn: false,
        stormStartSector: null,
      },
      availableActions: [
        DIAL_STORM,
      ],
    }

[11:51:01 AM] REQUEST
  atreides requested: DIAL_STORM
  Data:
    {
      faction: atreides,
      requestType: DIAL_STORM,
      prompt: Dial a number for storm movement (1-3). The total will determine how many sectors the storm moves.,
      context: {
        turn: 2,
        currentStormSector: 5,
        maxDial: 3,
        isFirstTurn: false,
        stormStartSector: null,
      },
      availableActions: [
        DIAL_STORM,
      ],
    }

[11:51:01 AM] RESPONSE
  atreides responded: DIAL_STORM (passed: false)
  Data:
    {
      faction: atreides,
      actionType: DIAL_STORM,
      data: {
        dial: 1,
      },
      passed: false,
    }

[11:51:01 AM] RESPONSE
  harkonnen responded: DIAL_STORM (passed: false)
  Data:
    {
      faction: harkonnen,
      actionType: DIAL_STORM,
      data: {
        dial: 2,
      },
      passed: false,
    }

[11:51:01 AM] EVENT
  Storm moves 3 sectors (5 → 8)
  Data:
    {
      eventType: STORM_MOVED,
      data: {
        from: 5,
        to: 8,
        movement: 3,
        sectorsAffected: [
          6,
          7,
          8,
        ],
      },
    }

[11:51:01 AM] EVENT
  10 atreides forces destroyed by storm in the_minor_erg
  Data:
    {
      eventType: FORCES_KILLED_BY_STORM,
      data: {
        faction: atreides,
        territoryId: the_minor_erg,
        sector: 6,
        count: 10,
      },
    }

[11:51:01 AM] EVENT
  8 harkonnen forces destroyed by storm in the_minor_erg
  Data:
    {
      eventType: FORCES_KILLED_BY_STORM,
      data: {
        faction: harkonnen,
        territoryId: the_minor_erg,
        sector: 7,
        count: 8,
      },
    }

[11:51:01 AM] EVENT
  5 spice destroyed by storm in the_minor_erg
  Data:
    {
      eventType: SPICE_DESTROYED_BY_STORM,
      data: {
        territoryId: the_minor_erg,
        sector: 6,
        amount: 5,
      },
    }

[11:51:01 AM] EVENT
  10 spice destroyed by storm in imperial_basin
  Data:
    {
      eventType: SPICE_DESTROYED_BY_STORM,
      data: {
        territoryId: imperial_basin,
        sector: 8,
        amount: 10,
      },
    }

[11:51:01 AM] STATE
  State snapshot: After step 1
  Data:
    {
      turn: 2,
      phase: storm,
      factions: [
        atreides,
        harkonnen,
        emperor,
      ],
      factionStates: [
        {
          faction: atreides,
          spice: 30,
          forcesOnBoard: [],
          forcesInReserves: {
            regular: 20,
            elite: 0,
          },
          leaders: [
            {
              id: paul_atreides,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: atreides,
            },
            {
              id: gurney_halleck,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: atreides,
            },
            {
              id: duncan_idaho,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: atreides,
            },
            {
              id: thufir_hawat,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: atreides,
            },
            {
              id: dr_yueh,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: atreides,
            },
          ],
          handSize: 1,
          traitors: 0,
        },
        {
          faction: harkonnen,
          spice: 35,
          forcesOnBoard: [],
          forcesInReserves: {
            regular: 20,
            elite: 0,
          },
          leaders: [
            {
              id: feyd_rautha,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: harkonnen,
            },
            {
              id: beast_rabban,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: harkonnen,
            },
            {
              id: piter_de_vries,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: harkonnen,
            },
            {
              id: captain_iakin_nefud,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: harkonnen,
            },
            {
              id: umman_kudu,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: harkonnen,
            },
          ],
          handSize: 2,
          traitors: 0,
        },
        {
          faction: emperor,
          spice: 40,
          forcesOnBoard: [
            {
              territory: imperial_basin,
              sector: 8,
              regular: 5,
              elite: 0,
              advisors: null,
            },
            {
              territory: imperial_basin,
              sector: 9,
              regular: 3,
              elite: 0,
              advisors: null,
            },
            {
              territory: imperial_basin,
              sector: 10,
              regular: 2,
              elite: 0,
              advisors: null,
            },
          ],
          forcesInReserves: {
            regular: 20,
            elite: 0,
          },
          leaders: [
            {
              id: shaddam_iv,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: emperor,
            },
            {
              id: hasimir_fenring,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: emperor,
            },
            {
              id: captain_aramsham,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: emperor,
            },
            {
              id: caid,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: emperor,
            },
            {
              id: bashar,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: emperor,
            },
          ],
          handSize: 1,
          traitors: 0,
        },
      ],
      spiceOnBoard: [
        {
          territoryId: imperial_basin,
          sector: 9,
          amount: 8,
        },
      ],
      stormSector: 8,
      stormOrder: [
        emperor,
        atreides,
        harkonnen,
      ],
    }

[11:51:01 AM] INFO
  Storm Sector: 8

[11:51:01 AM] INFO
  Storm Order: emperor → atreides → harkonnen

[11:51:01 AM] INFO
    emperor: 5 forces in imperial_basin sector 8

[11:51:01 AM] INFO
    emperor: 3 forces in imperial_basin sector 9

[11:51:01 AM] INFO
    emperor: 2 forces in imperial_basin sector 10

[11:51:01 AM] INFO
  Spice remaining: 1 deposits

[11:51:01 AM] STATE
  State snapshot: Final State
  Data:
    {
      turn: 2,
      phase: storm,
      factions: [
        atreides,
        harkonnen,
        emperor,
      ],
      factionStates: [
        {
          faction: atreides,
          spice: 30,
          forcesOnBoard: [],
          forcesInReserves: {
            regular: 20,
            elite: 0,
          },
          leaders: [
            {
              id: paul_atreides,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: atreides,
            },
            {
              id: gurney_halleck,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: atreides,
            },
            {
              id: duncan_idaho,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: atreides,
            },
            {
              id: thufir_hawat,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: atreides,
            },
            {
              id: dr_yueh,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: atreides,
            },
          ],
          handSize: 1,
          traitors: 0,
        },
        {
          faction: harkonnen,
          spice: 35,
          forcesOnBoard: [],
          forcesInReserves: {
            regular: 20,
            elite: 0,
          },
          leaders: [
            {
              id: feyd_rautha,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: harkonnen,
            },
            {
              id: beast_rabban,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: harkonnen,
            },
            {
              id: piter_de_vries,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: harkonnen,
            },
            {
              id: captain_iakin_nefud,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: harkonnen,
            },
            {
              id: umman_kudu,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: harkonnen,
            },
          ],
          handSize: 2,
          traitors: 0,
        },
        {
          faction: emperor,
          spice: 40,
          forcesOnBoard: [
            {
              territory: imperial_basin,
              sector: 8,
              regular: 5,
              elite: 0,
              advisors: null,
            },
            {
              territory: imperial_basin,
              sector: 9,
              regular: 3,
              elite: 0,
              advisors: null,
            },
            {
              territory: imperial_basin,
              sector: 10,
              regular: 2,
              elite: 0,
              advisors: null,
            },
          ],
          forcesInReserves: {
            regular: 20,
            elite: 0,
          },
          leaders: [
            {
              id: shaddam_iv,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: emperor,
            },
            {
              id: hasimir_fenring,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: emperor,
            },
            {
              id: captain_aramsham,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: emperor,
            },
            {
              id: caid,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: emperor,
            },
            {
              id: bashar,
              location: leader_pool,
              usedThisTurn: false,
              capturedBy: null,
              originalFaction: emperor,
            },
          ],
          handSize: 1,
          traitors: 0,
        },
      ],
      spiceOnBoard: [
        {
          territoryId: imperial_basin,
          sector: 9,
          amount: 8,
        },
      ],
      stormSector: 8,
      stormOrder: [
        emperor,
        atreides,
        harkonnen,
      ],
    }

[11:51:01 AM] INFO
  Phase completed successfully


================================================================================
SUMMARY
================================================================================

Total Steps: 1
Total Events: 5
Completed: Yes

Events:
  1. [STORM_MOVED] Storm moves 3 sectors (5 → 8)
  2. [FORCES_KILLED_BY_STORM] 10 atreides forces destroyed by storm in the_minor_erg
  3. [FORCES_KILLED_BY_STORM] 8 harkonnen forces destroyed by storm in the_minor_erg
  4. [SPICE_DESTROYED_BY_STORM] 5 spice destroyed by storm in the_minor_erg
  5. [SPICE_DESTROYED_BY_STORM] 10 spice destroyed by storm in imperial_basin

Final State:
  Turn: 2
  Phase: storm
  Factions: atreides, harkonnen, emperor

  atreides:
    Spice: 30
    Forces on board: 0 stacks
    Forces in reserves: 20 regular, 0 elite
    Leaders: 5 total
    Hand size: 1
  harkonnen:
    Spice: 35
    Forces on board: 0 stacks
    Forces in reserves: 20 regular, 0 elite
    Leaders: 5 total
    Hand size: 2
  emperor:
    Spice: 40
    Forces on board: 3 stacks
    Forces in reserves: 20 regular, 0 elite
    Leaders: 5 total
    Hand size: 1

================================================================================
END OF LOG
================================================================================